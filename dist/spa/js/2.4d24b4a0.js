(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"1c44":function(t,e,a){"use strict";a("dff6")},"3ae2":function(t,e,a){},"4e47":function(t,e,a){"use strict";a("3ae2")},"6f13":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{model:{value:t.mostrar,callback:function(e){t.mostrar=e},expression:"mostrar"}},[a("q-card",{staticClass:"bg-cyan-9 q-pt-xs q-pl-sm q-pr-sm",staticStyle:{width:"250px !important"}},[a("p",{staticClass:"text-white q-mt-xs",staticStyle:{"font-size":"14px"}},[a("b",[t._v(t._s(t.obj.prod))])]),a("div",{staticClass:"col col-4"},[a("q-input",{attrs:{id:"txtStock","input-class":"text-right",type:"text",mask:"###",label:"Sumar a stock",dense:!0},on:{focus:function(e){0==t.sumaStock&&(t.sumaStock="")}},model:{value:t.sumaStock,callback:function(e){t.sumaStock=e},expression:"sumaStock"}})],1),a("p",{staticClass:"text-white q-mt-xs",staticStyle:{"font-size":"14px"}},[a("b",{staticStyle:{"margin-right":"5px!important"}},[t._v("Stock Actual:")]),t._v("\n            "+t._s(t.obj.stk)+"\n        ")]),a("div",{staticClass:"col-12"},[a("q-btn",{staticClass:"q-mt-sm",staticStyle:{float:"right!important"},attrs:{disable:t.desactivaGuardar,label:"GUARDAR",color:"blue-grey-10"},on:{click:t.guardarNuevoStock}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mt-sm",staticStyle:{float:"left!important","margin-bottom":"5px"},attrs:{flat:"",label:"CERRAR",color:"grey-10"},on:{click:t.cerrarModal}})],1)])],1)},o=[],i=a("ded3"),r=a.n(i),n=(a("e6cf"),a("bc3a")),l=a.n(n),c=a("2f62");const p={"Content-Type":"application/json",headers:{"x-access-token":localStorage.getItem("token")}};var d={data(){return{obj:{},mostrar:!1,desactivaGuardar:!0,sumaStock:0}},methods:{async guardarNuevoStock(){var t={nemo:this.obj.nemo,stk:parseFloat(this.obj.stk)+parseFloat(this.sumaStock)};let e=await l.a.post(`${this.url}setStock`,t,p);if(e.data.icono){let a=this.listadoTrades.findIndex((e=>e.nemo===t.nemo));this.listadoTrades[a].stk=t.stk,this.showNotif("top",e.data.mensaje,e.data.icono,e.data.color,"black"),this.cerrarModal()}},cerrarModal(){this.sumaStock=0,this.mostrar=!1},showNotif(t,e,a,s,o){this.$q.notify({color:s,textColor:o,icon:a,message:e,position:t,multiLine:!0,group:!0,timeout:2e3,html:!0,classes:"non-selectable"})}},watch:{sumaStock:function(t,e){this.desactivaGuardar=""===t||"0"===t}},computed:r()({},Object(c["c"])(["url","listadoTrades"]))},m=d,u=(a("4e47"),a("2877")),h=a("24e8"),f=a("f09f"),b=a("27f9"),x=a("9c40"),g=a("7f67"),y=a("eebe"),v=a.n(y),S=Object(u["a"])(m,s,o,!1,null,null,null);e["a"]=S.exports;v()(S,"components",{QDialog:h["a"],QCard:f["a"],QInput:b["a"],QBtn:x["a"]}),v()(S,"directives",{ClosePopup:g["a"]})},"6f90":function(t,e,a){t.exports=a.p+"img/p.04bb4d05.png"},b49e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-blue-grey-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-12"},["MES"!=t.txtMes?a("q-btn",{staticClass:"q-mt-xs q-ml-xs q-mb-xs",staticStyle:{float:"left !important",height:"30px !important",display:"inline-block !important","font-size":"12px !important"},attrs:{color:"cyan-9"},on:{click:t.generarResumen}},[t._v("\n          RESÚMEN\n        ")]):t._e(),a("q-btn",{staticClass:"q-mt-xs q-mr-xs q-mb-xs",staticStyle:{float:"right !important",height:"30px !important",display:"inline-block !important","font-size":"12px !important"},attrs:{color:"cyan-9"},on:{click:function(e){return t.modal()}}},[t._v("\n          NUEVA VENTA\n        ")])],1),a("div",{staticClass:"col-12"})]),t.listaMercados_.length>0?a("div",{staticClass:"row",attrs:{hidden:0===t.listaMercados_.length}},[a("div",{staticClass:"col-12"}),a("div",{staticClass:"col-12"},[a("q-table",{ref:"tablaPrincipal",staticClass:"text-black shadow-17 hoverTable my-sticky-virtscroll-table",staticStyle:{background:"transparent !important"},attrs:{data:t.listaMercados,columns:t.nombreColumnas,"row-key":"name",separator:"cell","no-data-label":"NO SE ENCONTRARON RESULTADOS!!!","no-results-label":"NO SE ENCONTRARON RESULTADOS!!!",dense:"","virtual-scroll":"","virtual-scroll-sticky-size-start":48,"visible-columns":t.visibleColumns,filter:t.filter,pagination:t.pagination,id:"tablaVentas"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header",fn:function(){return[a("tr",[a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"110px !important"}},[a("q-btn-dropdown",{staticClass:"btnFiltro",staticStyle:{width:"110px !important",height:"27px!important","margin-top":"1px !important"},attrs:{size:"12px",color:"teal-5",label:t.txtStatusPago,padding:"0px 8px"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorStatusPago(null)}}},[a("q-item-section",[a("q-item-label",[t._v("TODOS")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorStatusPago(!0)}}},[a("q-item-section",[a("q-item-label",[t._v("PAGADO")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorStatusPago(!1)}}},[a("q-item-section",[a("q-item-label",[t._v("POR PAGAR")])],1)],1)],1)],1)],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"130px !important"}},[a("q-btn-dropdown",{staticClass:"btnFiltro",staticStyle:{width:"130px !important",height:"27px!important","margin-top":"1px !important"},attrs:{size:"12px",color:"teal-5",label:t.txtStatusEntrega,padding:"0px 8px"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorStatusEntrega(null)}}},[a("q-item-section",[a("q-item-label",[t._v("TODOS")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorStatusEntrega(!0)}}},[a("q-item-section",[a("q-item-label",[t._v("ENTREGADO")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorStatusEntrega(!1)}}},[a("q-item-section",[a("q-item-label",[t._v("POR ENTREGAR")])],1)],1)],1)],1)],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"65px !important"}},[a("q-btn-dropdown",{staticClass:"btnFiltro",staticStyle:{"padding-left":"8px !important",width:"65px !important","margin-top":"1px !important",height:"27px!important"},attrs:{size:"12px",color:"teal-5",label:t.txtSemana,padding:"0px 8px"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorSemana("0")}}},[a("q-item-section",[a("q-item-label",[t._v("TODOS")])],1)],1),t._l(t.arraySemanas,(function(e){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.value,attrs:{clickable:""},on:{click:function(a){return t.filtrarPorSemana(e.label)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)}))],2)],1)],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"100px !important"}},[a("q-btn-dropdown",{staticClass:"btnFiltro",staticStyle:{"padding-left":"8px !important",width:"100px !important","margin-top":"1px !important",height:"27px!important"},attrs:{size:"12px",color:"teal-5",label:t.txtMes,padding:"0px 8px"}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.filtrarPorMes("0")}}},[a("q-item-section",[a("q-item-label",[t._v("TODOS")])],1)],1),t._l(t.arrayMeses,(function(e){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.value,attrs:{clickable:""},on:{click:function(a){return t.filtrarPorMes(e.label)}}},[a("q-item-section",[a("q-item-label",[t._v(t._s(e.label))])],1)],1)}))],2)],1)],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"120px !important"}},[t.searchByVendedor?a("div",{staticStyle:{"padding-top":"1px !important"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtFilterVendedor,expression:"txtFilterVendedor"}],ref:"txtFilterVendedor",staticClass:"HHHHHHHHH",attrs:{dense:"",outlined:""},domProps:{value:t.txtFilterVendedor},on:{input:function(e){e.target.composing||(t.txtFilterVendedor=e.target.value)}}}),a("q-btn",{staticStyle:{display:"inline-block !important","margin-top":"-2px","margin-left":"0px","border-radius":"0px 4px 4px 0px !important",height:"27px"},attrs:{padding:"1px",icon:"close",color:"secondary",size:"14px"},on:{click:function(){t.searchByVendedor=!1,t.txtFilterVendedor=""}}})],1):a("q-btn",{staticClass:"btnFiltro",staticStyle:{width:"126px !important","margin-top":"1px !important",height:"27px!important"},attrs:{size:"12px",padding:"0px 0px",color:"teal-5","icon-right":"search",label:"VENDEDOR"},on:{click:function(){t.searchByVendedor=!0}}})],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"120px !important"}},[a("q-btn",{class:{btnFiltro:!0,ocultoVaina:t.searchByCliente},staticStyle:{width:"126px !important","margin-top":"1px !important",height:"27px!important"},attrs:{size:"12px",padding:"0px 0px",color:"teal-5","icon-right":"search",label:"CLIENTE"},on:{click:function(){t.searchByCliente=!0}}}),a("div",{class:{ocultoVaina:!t.searchByCliente},staticStyle:{"padding-top":"1px !important"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtFilterCliente,expression:"txtFilterCliente"}],staticClass:"HHHHHHHHH",attrs:{dense:"",outlined:"",id:"txtFilterCliente"},domProps:{value:t.txtFilterCliente},on:{input:function(e){e.target.composing||(t.txtFilterCliente=e.target.value)}}}),a("q-btn",{staticStyle:{display:"inline-block !important","margin-top":"-2px","margin-left":"0px","border-radius":"0px 4px 4px 0px !important",height:"27px"},attrs:{padding:"1px",icon:"close",size:"14px",color:"secondary"},on:{click:function(){t.searchByCliente=!1,t.txtFilterCliente=""}}})],1)],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px !important",width:"120px !important"}},[t.searchByRepartidor?a("div",{staticStyle:{"padding-top":"1px !important"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.txtFilterRepartidor,expression:"txtFilterRepartidor"}],ref:"txtFilterVendedor",staticClass:"HHHHHHHHH",attrs:{dense:"",outlined:""},domProps:{value:t.txtFilterRepartidor},on:{input:function(e){e.target.composing||(t.txtFilterRepartidor=e.target.value)}}}),a("q-btn",{staticStyle:{display:"inline-block !important","margin-top":"-2px","margin-left":"0px","border-radius":"0px 4px 4px 0px !important",height:"27px"},attrs:{padding:"1px",icon:"close",color:"secondary",size:"14px"},on:{click:function(){t.searchByRepartidor=!1,t.txtFilterRepartidor=""}}})],1):a("q-btn",{staticClass:"btnFiltro",staticStyle:{width:"126px !important","margin-top":"1px !important",height:"27px!important"},attrs:{size:"12px",padding:"0px 0px",color:"teal-5","icon-right":"search",label:"REPARTIDOR"},on:{click:function(){t.searchByRepartidor=!0}}})],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{"font-size":"12px!important"}},[t._v("DESPACHO")]),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{top:"0px !important"},attrs:{colspan:1}},[a("q-td",{staticClass:"text-center columna",staticStyle:{width:"210px !important","font-size":"12px!important"}},[t._v("PRODUCTO")]),a("q-td",{staticClass:"text-center columna",staticStyle:{width:"80px !important","font-size":"12px!important"}},[t._v("PRECIO")]),a("q-td",{staticClass:"bg-blue-grey-9 text-center columna",staticStyle:{padding:"0px !important",width:"60px !important","font-size":"12px!important"},attrs:{"aria-colspan":"2"}},[a("span",{staticStyle:{display:"block!important","font-size":"11px!important",width:"54px !important"}},[t._v(t._s(t.sumaCant[0]))]),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[1,8]}},[a("strong",{staticStyle:{"font-size":"12px!important"}},[t._v("CANTIDAD")])])],1),a("q-td",{staticClass:"text-center columna",staticStyle:{width:"80px !important","font-size":"12px!important"}},[t._v("S. TOTAL")])],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{padding:"0px 2px !important","font-size":"12px!important"}},[t._v("DESCTO")]),a("th",{staticClass:"bg-blue-9 text-right text-white",staticStyle:{"font-size":"11px!important","padding-right":"5px!important",height:"29px!important"}},[t._v("\n                "+t._s(t._f("currency")(t.sumaCant[1]))+"\n                "),a("q-tooltip",{attrs:{anchor:"top middle",self:"bottom middle",offset:[1,3]}},[a("strong",{staticStyle:{"font-size":"12px!important"}},[t._v("TOTAL")])])],1),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{"font-size":"12px!important"}},[t._v("ACCIÓN")])])]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{class:{qqqAAA:!0,"bg-grey-3":!e.row.stat[0]&&!e.row.stat[1],amarillo_SnapChat:e.row.stat[0]&&!e.row.stat[1],rojo_YouTube:!e.row.stat[0]&&e.row.stat[1],verde_WhatsApp:e.row.stat[0]&&e.row.stat[1]},staticStyle:{"font-size":"10px !important","padding-bottom":"0px !important","padding-top":"0px !important","z-index":"0 !important"},attrs:{props:e}},[a("q-td",{key:"status1",staticClass:"text-center",staticStyle:{width:"110px !important","font-size":"12px !important",padding:"0px !important"},attrs:{props:e}},[a("q-btn",{class:{"bg-blue-grey-1":!e.row.stat[0],"text-grey-10":!e.row.stat[0],"bg-blue-grey-9":e.row.stat[0],"text-grey-2":e.row.stat[0]},staticStyle:{height:"100% !important",width:"100% !important","border-radius":"0px !important"},attrs:{size:"xs"},on:{dblclick:function(a){return t.cambioStatus1(e.row._id,a)},click:function(a){return t.verCtrlStatus1(e.row._id)}}},[!0===e.row.stat[0]?a("b",{staticStyle:{"font-size":"11px !important"}},[t._v("PAGADO")]):a("b",{staticStyle:{"font-size":"11px !important"}},[t._v("POR PAGAR")])])],1),a("q-td",{key:"status2",staticClass:"text-center q-p-xs",staticStyle:{width:"130px !important","font-size":"12px !important",padding:"0px !important"},attrs:{props:e}},[a("q-btn",{class:{"bg-blue-grey-1":!Boolean(e.row.stat[1]),"text-grey-10":!Boolean(e.row.stat[1]),"bg-blue-grey-9":Boolean(e.row.stat[1]),"text-grey-2":Boolean(e.row.stat[1])},staticStyle:{width:"100% !important",height:"100% !important","border-radius":"0px !important"},attrs:{size:"xs"},on:{dblclick:function(a){return t.cambioStatus2(e.row._id,a)},click:function(a){return t.verCtrlStatus2(e.row._id)}}},[!0===e.row.stat[1]?a("b",{staticStyle:{"font-size":"11px !important"}},[t._v("ENTREGADO")]):a("b",{staticStyle:{"font-size":"11px !important"}},[t._v("POR ENTREGAR")])])],1),a("q-td",{key:"semana",staticClass:"text-center q-p-xs",staticStyle:{"font-size":"12px !important"},attrs:{props:e}},[t._v(" "+t._s(e.row.sem)+" ")]),a("q-td",{key:"mes",staticClass:"text-center q-p-xs",staticStyle:{"font-size":"12px !important"},attrs:{props:e}},[t._v(" "+t._s(e.row.mes)+" ")]),a("q-td",{key:"vendedor",staticClass:"text-left q-p-xs",staticStyle:{"font-size":"12px !important"},attrs:{props:e}},[t._v(" "+t._s(e.row.usu.toUpperCase())+" ")]),a("q-td",{key:"nombre",staticClass:"text-left q-p-xs",staticStyle:{"font-size":"12px !important"},attrs:{props:e}},[t._v(" "+t._s(e.row.nom)+" ")]),a("q-td",{key:"repartidor",staticClass:"text-left q-p-xs",staticStyle:{"font-size":"12px !important"},attrs:{props:e}},[t._v(" "+t._s(e.row.rep)+" ")]),a("q-td",{key:"diaDespacho",staticClass:"text-center q-p-xs",staticStyle:{"font-size":"12px !important"},attrs:{props:e}},[t._v(" "+t._s(e.row.ddesp)+" ")]),a("q-td",{key:"productos",staticClass:"text-right",staticStyle:{"font-size":"12px !important",width:"200px !important",padding:"0px !important","z-index":"0 !important"},attrs:{props:e}},t._l(e.row.prods,(function(e){return a("q-tr",{key:e.id,staticClass:"q-pt-none q-pb-none q-mt-none q-mb-none fila",staticStyle:{"font-size":"11px !important",height:"10px !important","table-layout":"fixed !important",width:"100%","border-collapse":"collapse"}},[a("q-td",{staticClass:"text-left columna",staticStyle:{"font-size":"11px !important",width:"220px !important"}},[t._v(t._s(e.prod))]),a("q-td",{staticClass:"text-right columna",staticStyle:{"font-size":"11px !important",width:"80px !important"}},[t._v(t._s(t._f("currency")(e.pre.toString())))]),a("q-td",{staticClass:"text-center columna",staticStyle:{"font-size":"11px !important",width:"60px !important"}},[t._v(t._s(e.cant))]),a("q-td",{staticClass:"text-right columna",staticStyle:{"font-size":"11px !important",width:"90px !important"}},[t._v(t._s(t._f("currency")((parseFloat(e.cant)*e.pre).toString())))])],1)})),1),a("q-td",{key:"descuento",staticClass:"text-right q-p-xs",staticStyle:{"font-size":"11px !important"},attrs:{props:e}},[0===e.row.desc?a("span",[t._v(t._s(t._f("currency")(e.row.desc.toString())))]):e.row.desc>0&&e.row.porcdesc?a("span",{staticStyle:{background:"#37474F",color:"#FFF",padding:"1px 3px","border-radius":"3px"}},[t._v(t._s(t._f("currencyPorc")(e.row.desc.toString())))]):a("span",{staticStyle:{background:"#E0E0E0",padding:"1px 3px","border-radius":"3px"}},[t._v(" "+t._s(t._f("currency")(e.row.desc.toString()))+" ")])]),a("q-td",{key:"total",staticClass:"text-right q-p-xs",staticStyle:{"font-size":"11px !important"},attrs:{props:e}},[0===e.row.desc?a("span",[t._v(t._s(t._f("currency")(e.row.tot.toString())))]):e.row.desc>0&&e.row.porcdesc?a("span",[t._v(t._s(t._f("currency")((1e3*parseFloat(((e.row.tot-e.row.tot*e.row.desc/100)/1e3).toFixed(2))).toString())))]):a("span",[t._v(t._s(t._f("currency")((e.row.tot-e.row.desc).toString())))])]),a("q-td",{key:"accion",staticClass:"text-center q-p-xs",staticStyle:{"font-size":"15px !important"}},[a("q-btn",{attrs:{round:"",flat:"",padding:"none",icon:"delete",size:"14px",color:"blue-grey-10 q-mr-sm"},on:{click:function(a){return t.modalEliminar(e.row)}}}),a("q-btn",{attrs:{round:"",flat:"",padding:"none",icon:"article",size:"14px",color:"blue-grey-10"},on:{click:function(a){return t.modal(e.row)}}})],1)],1)]}},{key:"pagination",fn:function(e){return[e.pagesNumber>2?a("q-btn",{staticClass:"text-white",attrs:{icon:"first_page",square:"",dense:"",flat:"",disable:e.isFirstPage},on:{click:e.firstPage}}):t._e(),a("q-btn",{staticClass:"text-white",attrs:{icon:"chevron_left",square:"",dense:"",flat:"",disable:e.isFirstPage},on:{click:e.prevPage}}),a("q-btn",{staticClass:"text-white",attrs:{icon:"chevron_right",square:"",dense:"",flat:"",disable:e.isLastPage},on:{click:e.nextPage}}),e.pagesNumber>2?a("q-btn",{staticClass:"text-white",attrs:{icon:"last_page",square:"",dense:"",flat:"",disable:e.isLastPage},on:{click:e.lastPage}}):t._e()]}}],null,!1,750258147)})],1),a("div",{staticClass:"col-12"})]):t._e(),0===t.listaMercados_.length&&t.mostrarCircular?a("q-inner-loading",{attrs:{showing:0===t.listaMercados_.length}},[a("q-circular-progress",{staticClass:"q-ma-md",attrs:{indeterminate:"",size:"75px",thickness:1,color:"teal-6","center-color":"blue"}})],1):t._e(),a("div",[a("q-dialog",{attrs:{"transition-show":"fade","transition-hide":"fade"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",{staticClass:"bg-cyan-9 q-pt-xs",staticStyle:{width:"450px !important"}},[a("div",{staticClass:"row",staticStyle:{padding:"0px 10px !important"}},[a("div",{staticClass:"col-12",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticClass:"text-white",staticStyle:{"font-size":"12px !important"},attrs:{readonly:t.inputDesactivado,clearable:"",list:"listaClientes",maxlength:"20",label:"CLIENTE",dense:!0,type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.guardar(e)}},model:{value:t.form.nombre,callback:function(e){t.$set(t.form,"nombre",e)},expression:"form.nombre"}}),a("datalist",{attrs:{id:"listaClientes"}},t._l(t.listaClientes,(function(e){return a("option",{key:e.id},[t._v("\n                  "+t._s(e.nom)+"\n                ")])})),0)],1),a("div",{staticClass:"col-12 q-mt-xs",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticClass:"text-white",staticStyle:{"font-size":"12px !important"},attrs:{readonly:t.inputDesactivado,clearable:"",label:"DIRECCIÓN",dense:!0,type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.guardar(e)}},model:{value:t.form.direccion,callback:function(e){t.$set(t.form,"direccion",e)},expression:"form.direccion"}})],1),a("div",{staticClass:"col-6 q-mt-xs",staticStyle:{padding:"0px 5px !important"}},[a("q-select",{staticStyle:{"font-size":"14px !important"},attrs:{readonly:t.inputDesactivado,"options-dense":"",options:t.arrayMeses,label:"MES",dense:!0},model:{value:t.form.mes,callback:function(e){t.$set(t.form,"mes",e)},expression:"form.mes"}})],1),a("div",{staticClass:"col-6 q-mt-xs",staticStyle:{padding:"0px 5px !important"}},[a("q-select",{staticStyle:{"font-size":"14px !important"},attrs:{readonly:t.inputDesactivado,"options-dense":"",options:t.arraySemanas,label:"SEMANA",dense:!0},model:{value:t.form.semana,callback:function(e){t.$set(t.form,"semana",e)},expression:"form.semana"}})],1),a("div",{staticClass:"col-6 q-mt-xs",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticStyle:{"font-size":"12px !important"},attrs:{readonly:t.inputDesactivado,clearable:"",list:"listaDias",label:"DÍA DESPACHO",dense:!0,type:"text"},model:{value:t.form.diaDespacho,callback:function(e){t.$set(t.form,"diaDespacho",e)},expression:"form.diaDespacho"}}),a("datalist",{attrs:{id:"listaDias"}},t._l(t.arrayDias,(function(e){return a("option",{key:e.value,domProps:{value:e.label}},[t._v("\n                  "+t._s(e.label)+"\n                ")])})),0)],1),a("div",{staticClass:"col-6 q-mt-xs",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticStyle:{"font-size":"12px !important"},attrs:{readonly:t.inputDesactivado,clearable:"",list:"listaRepartidores",label:"REPARTIDOR",dense:!0,type:"text"},model:{value:t.form.repartidor,callback:function(e){t.$set(t.form,"repartidor",e)},expression:"form.repartidor"}}),a("datalist",{attrs:{id:"listaRepartidores"}},t._l(t.listaRepartidores,(function(e){return a("option",{key:e.id},[t._v(" "+t._s(e.nom)+" ")])})),0)],1),a("div",{staticClass:"col-6 text-right",attrs:{hidden:0==t.form.productos.length}},[a("q-toggle",{attrs:{disable:t.inputDesactivado,color:"white","keep-color":""},model:{value:t.form.porcdesc,callback:function(e){t.$set(t.form,"porcdesc",e)},expression:"form.porcdesc"}})],1),a("div",{staticClass:"col-6",staticStyle:{padding:"0px 5px !important"},attrs:{hidden:0==t.form.productos.length}},[t.form.porcdesc?a("q-input",{ref:"porcDescuento",staticStyle:{"font-size":"12px !important"},attrs:{"shadow-text":" %",clearable:"",readonly:t.inputDesactivado,label:"PORCENTAJE","input-class":"text-left",dense:!0,type:"number"},on:{focus:t.focusTxtDescuento,blur:t.verTxtDescuento},model:{value:t.form.descuento,callback:function(e){t.$set(t.form,"descuento",e)},expression:"form.descuento"}}):a("q-input",{ref:"txtDescuento",staticStyle:{"font-size":"12px !important"},attrs:{"shadow-text":" $",clearable:"",readonly:t.inputDesactivado,label:"DESCUENTO","input-class":"text-left",dense:!0,type:"number"},on:{focus:t.focusTxtDescuento,blur:t.verTxtDescuento},model:{value:t.form.descuento,callback:function(e){t.$set(t.form,"descuento",e)},expression:"form.descuento"}})],1),a("div",{staticClass:"col-12 q-mt-md",staticStyle:{padding:"0px 5px !important"}},[a("p",{staticClass:"text-white text-h6 q-mb-none",staticStyle:{color:"#fff !important",float:"left !important",display:"inline-block !important"}},[t._v("\n                Productos\n              ")]),t.inputDesactivado?t._e():a("q-btn",{staticClass:"q-p-xs",staticStyle:{float:"right !important",display:"inline-block !important"},attrs:{round:"",size:"sm",color:"grey-10"},on:{click:function(){t.alertProd=!0,t.nuevoProd=!0}}},[a("q-icon",{attrs:{name:"add"}})],1)],1),t._l(t.form.productos,(function(e,s){return a("div",{key:s,staticClass:"q-mt-xs bg-grey-4 col-12 q-mt-none",staticStyle:{padding:"0px 5px !important","border-radius":"5px"}},[a("p",{staticClass:"q-mb-none q-pt-xs float-left text-grey-10",staticStyle:{"font-size":"11px !important",display:"inline-block !important"}},[t._v("\n                "+t._s(e.prod)+"\n              ")]),t.inputDesactivado?t._e():a("q-btn",{staticClass:"float-right",staticStyle:{display:"inline-block !important"},attrs:{round:"",flat:"",padding:"none",icon:"delete",size:"13px",color:"blue-grey-10"},on:{click:function(e){return t.eliminarProdCarro(s)}}}),t.inputDesactivado?t._e():a("q-btn",{staticClass:"float-right",attrs:{round:"",flat:"",padding:"none",icon:"edit",size:"13px",color:"blue-grey-10"},on:{click:function(a){return t.editarProdDetalle(e)}}}),a("p",{staticClass:"float-right q-pt-xs q-mb-none",staticStyle:{"font-size":"11px !important",display:"inline-block !important",width:"100px !important"}},[a("b",[t._v("subTotal:")]),t._v(" "+t._s(t._f("currency")(e.pre*e.cant))+"\n              ")]),a("p",{staticClass:"float-right q-mr-sm q-pt-xs q-mb-none",staticStyle:{"font-size":"11px !important",display:"inline-block !important",width:"50px !important"}},[a("b",[t._v("cant:")]),t._v(" "+t._s(e.cant)+"\n              ")])],1)})),t.form.productos.length>0?a("div",{staticClass:"col-12"},[a("q-badge",{staticClass:"q-mt-xs q-pt-xs q-pb-xs float-right",staticStyle:{"font-size":"14px !important"},attrs:{"text-color":"grey-10",color:"grey-4"}},[t.form.porcdesc?a("span",[a("b",{staticClass:"q-mr-xs"},[t._v("Descuento:")]),t._v(" "+t._s(t._f("currencyPorc")(t.form.descuento))+"\n                ")]):a("span",[a("b",{staticClass:"q-mr-xs"},[t._v("Descuento:")]),t._v(" "+t._s(t._f("currency")(t.form.descuento))+"\n                ")])])],1):t._e(),a("div",{staticClass:"col-12"},[t.form.total<=3e4&&t.form.productos.length>0?a("q-toggle",{class:{"q-pl-xl":!0},staticStyle:{height:"24px!important","padding-left":"70px!important"},attrs:{disable:t.inputDesactivado,"left-label":"",size:"xs",label:"Aplica Envío","checked-icon":"check","unchecked-icon":"clear",color:"cyan-4","true-value":!0,"false-value":!1},model:{value:t.form.apEnvio,callback:function(e){t.$set(t.form,"apEnvio",e)},expression:"form.apEnvio"}}):t._e(),t.form.productos.length>0?a("q-badge",{staticClass:"q-mt-xs q-pt-xs q-pb-xs float-right",staticStyle:{"font-size":"14px !important"},attrs:{"text-color":"grey-10",color:"grey-4"}},[a("b",{staticClass:"q-mr-xs"},[t._v("Costo envío:")]),t._v("\n                "+t._s(t._f("currency")(t.costoEnvio))+"\n              ")]):t._e()],1),a("div",{staticClass:"col-12"},[t.form.productos.length>0?a("q-badge",{staticClass:"q-mt-xs q-pt-xs q-pb-xs float-right",staticStyle:{"font-size":"14px !important"},attrs:{"text-color":"grey-10",color:"grey-4"}},[a("b",{staticClass:"q-mr-xs"},[t._v("A Pagar:")]),t._v("\n                "+t._s(t._f("currency")(t.total))+"\n              ")]):t._e()],1)],2),t.btnPDFvisible?a("q-btn",{staticClass:"q-ml-sm q-mt-sm q-pr-xs",staticStyle:{float:"left !important"},attrs:{icon:"file_download","text-color":"blue-grey-10",color:"red-14"},on:{click:function(e){return t.generarPDF(t.form)}}},[t._v("\n            PDF\n          ")]):t._e(),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"grey-10"}}),t.inputDesactivado?a("q-btn",{attrs:{label:"EDITAR",color:"blue-grey-10","text-color":"blue-grey-1"},on:{click:function(e){t.inputDesactivado=!1}}}):a("q-btn",{attrs:{disable:0===t.form.productos.length,label:"GUARDAR",color:"blue-grey-10","text-color":"blue-grey-1"},on:{click:t.guardar}})],1)],1)],1),a("q-dialog",{attrs:{"transition-show":"fade","transition-hide":"fade"},model:{value:t.alertProd,callback:function(e){t.alertProd=e},expression:"alertProd"}},[a("q-card",{staticClass:"bg-cyan-9",staticStyle:{width:"350px !important"}},[a("div",{staticClass:"row",staticStyle:{padding:"0px 10px !important"}},[a("div",{staticClass:"col-12 q-mt-sm",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticClass:"text-white",staticStyle:{"font-size":"12px !important"},attrs:{clearable:"",list:"listaProds",id:"nombreMercadoTxt",label:"PRODUCTO",dense:!0,type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.guardar(e)}},model:{value:t.productoObj.producto,callback:function(e){t.$set(t.productoObj,"producto",e)},expression:"productoObj.producto"}}),a("datalist",{attrs:{id:"listaProds"}},t._l(t.listadoTrades,(function(e){return a("option",{key:e.idProducto},[t._v(t._s(e.nom))])})),0)],1),a("div",{staticClass:"col-12",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticClass:"text-white",staticStyle:{"font-size":"12px !important"},attrs:{readonly:!0,id:"nombreMercadoTxt",label:"NEMO",dense:!0,type:"text"},model:{value:t.productoObj.nemo,callback:function(e){t.$set(t.productoObj,"nemo",e)},expression:"productoObj.nemo"}})],1),a("div",{staticClass:"col-4 q-mt-sm",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticStyle:{"font-size":"12px !important"},attrs:{readonly:!0,label:"KG / UNIDAD",dense:!0,type:"number"},model:{value:t.productoObj.kilos,callback:function(e){t.$set(t.productoObj,"kilos",e)},expression:"productoObj.kilos"}})],1),a("div",{staticClass:"col-5 q-mt-sm",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticStyle:{"font-size":"12px !important"},attrs:{label:"PRECIO / KG",dense:!0,type:"number",readonly:!0},model:{value:t.productoObj.precio,callback:function(e){t.$set(t.productoObj,"precio",e)},expression:"productoObj.precio"}})],1),a("div",{staticClass:"col-3 q-mt-sm",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticStyle:{"font-size":"12px !important"},attrs:{label:"CANTIDAD",dense:!0,type:"text"},model:{value:t.productoObj.cantidad,callback:function(e){t.$set(t.productoObj,"cantidad",e)},expression:"productoObj.cantidad"}})],1),a("div",{staticClass:"col-12 q-mt-sm",staticStyle:{padding:"0px 5px !important"}},[a("q-input",{staticStyle:{"font-size":"12px !important"},attrs:{label:"SUB TOTAL",dense:!0,type:"number",readonly:!0},model:{value:t.productoObj.subTotal,callback:function(e){t.$set(t.productoObj,"subTotal",e)},expression:"productoObj.subTotal"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"CERRAR",color:"grey-10"}}),a("q-btn",{attrs:{disable:0===t.productoObj.subTotal,label:"GUARDAR",color:"blue-grey-10","text-color":"blue-grey-1"},on:{click:t.agregarProducto}})],1)],1)],1),a("PDFcontainer",{ref:"PDF_Cont"}),a("ModalEliminar",{ref:"modalEliminar"}),a("ModalResumenVentas",{ref:"modalResumenVentas"})],1)],1)},o=[],i=a("ded3"),r=a.n(i),n=(a("13d5"),a("0481"),a("ddb0"),a("e6cf"),a("bc3a")),l=a.n(n),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{model:{value:t.mostrar,callback:function(e){t.mostrar=e},expression:"mostrar"}},[a("q-card",{staticClass:"bg-blue-grey-10"},[a("q-card-section",{staticClass:"row items-center"},[a("q-icon",{staticStyle:{"font-size":"35px!important"},attrs:{name:"error",color:"red-4","text-color":"white"}}),a("span",{staticClass:"q-ml-sm text-white"},[t._v("Se eliminará esta venta, Continuar?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"cancelar",color:"red-4"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"eliminar",color:"teal-7"},on:{click:t.eliminar}})],1)],1)],1)},p=[],d=a("2f62");const m={"Content-Type":"application/json",headers:{"x-access-token":localStorage.getItem("token")}};var u={data(){return{nombre:"VAINA",mostrar:!1,idVenta:""}},computed:r()({},Object(d["c"])(["url"])),methods:r()(r()({},Object(d["b"])(["setListaMercados"])),{},{eliminar(){l.a.post(`${this.url}borrarVenta`,{id:this.idVenta},m).then(function(t){200===t.status&&(this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black"),this.traerListaVentas())}.bind(this)).catch(function(t){this.showNotif("top","El servidor no responde, no se pudo eliminar!","error","red-4","black")}.bind(this))},showNotif(t,e,a,s,o){this.$q.notify({color:s,textColor:o,icon:a,message:e,position:t,multiLine:!0,group:!0,timeout:2e3,html:!0,classes:"non-selectable"})},traerListaVentas(){l.a.get(`${this.url}listaVentas`,m).then(function(t){this.setListaMercados(t.data)}.bind(this)).catch(function(t){this.showNotif("top","El servidor no responde!","error","red-4","black")}.bind(this))}})},h=u,f=a("2877"),b=a("24e8"),x=a("f09f"),g=a("a370"),y=a("0016"),v=a("4b7e"),S=a("9c40"),C=a("7f67"),w=a("eebe"),_=a.n(w),q=Object(f["a"])(h,c,p,!1,null,null,null),k=q.exports;_()(q,"components",{QDialog:b["a"],QCard:x["a"],QCardSection:g["a"],QIcon:y["a"],QCardActions:v["a"],QBtn:S["a"]}),_()(q,"directives",{ClosePopup:C["a"]});var E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"fixed !important",top:"-100px",left:"-100px"}},[s("div",{attrs:{id:"pdfContainer"}},[s("img",{staticStyle:{"margin-left":"80px !important","margin-top":"5px !important"},attrs:{src:a("6f90"),width:"35",height:"35",alt:"",srcset:""}}),s("p",{staticStyle:{"font-size":"8px","margin-bottom":"4px","margin-left":"70px","margin-top":"0px !important"}},[t._v("Orden de venta")]),s("p",{staticStyle:{"font-size":"4px","margin-bottom":"1px","margin-left":"10px"}},[s("span",{staticStyle:{"font-weight":"bold","margin-right":"7px"}},[t._v("ID venta:")]),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.obj.id))])]),s("p",{staticStyle:{"font-size":"4px","margin-bottom":"1px","margin-left":"10px"}},[s("span",{staticStyle:{"font-weight":"bold","margin-right":"9px"}},[t._v("Cliente:")]),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.obj.nombre))])]),s("p",{staticStyle:{"font-size":"4px","margin-bottom":"3px"}},[s("span",{staticStyle:{"font-weight":"bold","margin-right":"5px","margin-left":"10px"}},[t._v("Dirección:")]),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.obj.direccion))])]),s("table",{staticStyle:{"margin-left":"20px"}},[t._m(0),t._l(t.obj.productos,(function(e){return s("tr",{key:e.nemo},[s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{"font-size":"4px","word-spacing":"2px"}},[t._v(t._s(e.prod))]),s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{"font-size":"4px",float:"right !important"}},[t._v(t._s(t._f("currency")(e.pre)))]),s("td",{staticClass:"text-center q-pt-none q-pb-none",staticStyle:{"font-size":"4px"}},[t._v(t._s(e.cant))]),s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{"font-size":"4px",float:"right !important"}},[t._v(t._s(t._f("currency")(parseFloat(e.pre)*parseFloat(e.cant))))])])})),s("tr",{staticStyle:{"pading-right":"0px !important"}},[s("td",{staticClass:"q-pt-xs q-pb-none",staticStyle:{width:"160px !important"},attrs:{colspan:"4"}},[s("span",{staticStyle:{display:"inline !important",float:"right !important","font-weight":"bold","font-size":"4px !important","word-spacing":"1px"}},[t._v("\n            Costo de envío:\n            "),s("span",{staticStyle:{"margin-right":"0px","font-weight":"normal !important","margin-left":"2px",display:"inline !important"}},[t._v(t._s(t._f("currency")(t.costoEnvio)))])])])]),t.obj.descuento>0?s("tr",{staticStyle:{"pading-right":"0px !important"}},[s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{width:"160px !important"},attrs:{colspan:"4"}},[s("span",{staticStyle:{display:"inline !important",float:"right !important","font-weight":"bold","font-size":"4px !important","word-spacing":"1px"}},[t._v("\n            Descuento:\n            "),s("span",{staticStyle:{"margin-right":"0px","font-weight":"normal !important","margin-left":"2px",display:"inline !important"}},[t._v(t._s(t._f("currency")(t.obj.descuento)))])])])]):t._e(),s("tr",{staticStyle:{"pading-right":"0px !important"}},[s("td",{staticClass:"q-pt-none",staticStyle:{width:"160px !important"},attrs:{colspan:"4"}},[s("span",{staticStyle:{display:"inline !important",float:"right !important","font-weight":"bold","font-size":"4px !important","word-spacing":"1px"}},[t._v("\n            Total a pagar:\n            "),s("span",{staticStyle:{"margin-right":"0px","font-weight":"normal !important","margin-left":"2px",display:"inline !important"}},[t._v(t._s(t._f("currency")(t.obj.total+t.costoEnvio-t.obj.descuento)))])])])])],2)])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-center",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"80px"}},[t._v("Nombre")]),a("td",{staticClass:"text-center",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"25px"}},[t._v("Precio")]),a("td",{staticClass:"text-center",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"10px"}},[t._v("Cant")]),a("td",{staticClass:"text-right",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"25px"}},[t._v("Sub Total")])])}],P=a("8baf"),R={data(){return{obj:{productos:[],descuento:0,total:0,id:"",nombre:"",direccion:""},costoEnvio:0}},methods:{crearPDF(t){var e=new P["a"];e.html(document.getElementById("pdfContainer"),{callback:function(e){e.save(`ventaID_${t}.pdf`)},x:10,y:10})}}},D=R,z=Object(f["a"])(D,E,O,!1,null,null,null),T=z.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{fade:""},model:{value:t.mostrar,callback:function(e){t.mostrar=e},expression:"mostrar"}},[a("q-card",{staticClass:"bg-cyan-9 q-pt-xs q-pl-sm q-pr-sm",staticStyle:{width:"500px !important"}},[a("div",{staticClass:"col-12 q-pb-xs q-pt-xs"},[a("p",{staticClass:"text-white",staticStyle:{height:"29px",margin:"0px!important","text-align":"center","font-size":"18px","margin-left":"-10px"}},[t._v("\n                RESÚMEN DE ÓRDENES\n            ")]),a("div",[a("q-badge",{staticClass:"q-pt-xs",staticStyle:{"font-size":"14px"},attrs:{color:"grey-10","text-color":"white"}},[a("b",{staticClass:"q-mr-sm"},[t._v("Semana:")]),t._v(" "+t._s(t.semana)+"\n                ")]),a("q-badge",{staticClass:"q-ml-md q-pt-xs",staticStyle:{"font-size":"14px"},attrs:{color:"grey-10","text-color":"white"}},[a("b",{staticClass:"q-mr-sm"},[t._v("Més:")]),t._v(" "+t._s(t.mes)+"\n                ")])],1)]),a("div",{staticClass:"col-12 q-pb-xs"},[a("q-table",{staticClass:"text-black",attrs:{data:t.listaResumen,columns:t.columnas,"row-key":"name",separator:"cell",dense:"",pagination:t.pagination,"visible-columns":t.visibleColumns},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"header",fn:function(){return[a("tr",{staticStyle:{height:"29px"}},[a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{"font-size":"12px!important"}},[t._v("NOMBRE")]),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{"font-size":"12px!important",width:"70px"}},[t._v("CANT")]),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{"font-size":"12px!important",width:"70px"}},[t._v("STOCK")]),a("th",{staticClass:"bg-blue-9 text-white",staticStyle:{"font-size":"12px!important",width:"70px"}},[t._v("BORRAR")])])]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{class:{"bg-red-3":e.row.cant>e.row.stk,"bg-yellow-4":e.row.cant==e.row.stk},staticStyle:{height:"20px!important"},attrs:{props:e}},[a("q-td",{key:"prod_",staticClass:"textLeft q-p-xs",staticStyle:{"font-size":"12px !important",height:"20px!important"},attrs:{props:e}},[t._v(" "+t._s(e.row.prod)+" ")]),a("q-td",{key:"cant_",staticClass:"txtCentrado q-p-xs",staticStyle:{"font-size":"12px !important",height:"20px!important"},attrs:{props:e}},[t._v(" "+t._s(e.row.cant)+" ")]),a("q-td",{key:"stk",staticClass:"txtCentrado stockCell q-p-xs",staticStyle:{"font-size":"12px !important",height:"20px!important"},attrs:{props:e},on:{click:function(a){return t.editarStock(e.row)}}},[t._v(" "+t._s(e.row.stk)+" ")]),a("q-td",{staticClass:"txtCentrado q-p-xs",staticStyle:{"font-size":"12px !important",height:"20px!important"}},[a("q-btn",{attrs:{round:"",flat:"",padding:"none",icon:"delete",size:"14px",color:"blue-grey-10"},on:{click:function(a){return t.borrarDeResumen(e.row.nemo)}}})],1)],1)]}},{key:"pagination",fn:function(){},proxy:!0}])})],1),a("div",{staticClass:"col-12"},[a("q-btn",{staticClass:"q-mt-sm",staticStyle:{float:"left !important","margin-bottom":"8px"},attrs:{label:"PDF",icon:"file_download","text-color":"blue-grey-10",color:"red-14"},on:{click:t.generarPDFresumen}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mt-sm",staticStyle:{float:"right!important","margin-bottom":"5px"},attrs:{label:"CERRAR",flat:"",color:"grey-10"}})],1)]),a("GeneradorResumen",{ref:"generador_Resumen"}),a("ModalEditarStock",{ref:"modalEditarStock"})],1)},N=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"fixed !important",top:"-3000px",left:"-3000px"}},[s("div",{attrs:{id:"pdfResumenContainer"}},[s("img",{staticStyle:{"margin-left":"77px !important"},attrs:{src:a("6f90"),width:"35",height:"35",alt:"",srcset:""}}),s("p",{staticStyle:{"font-size":"8px","margin-bottom":"4px","margin-left":"58px","margin-top":"0px !important"}},[t._v("Resúmen de ventas")]),s("p",{staticStyle:{"font-size":"4px","margin-bottom":"1px","margin-left":"20px"}},[s("span",{staticStyle:{"font-weight":"bold","margin-right":"2px"}},[t._v("Semana:")]),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.semana))]),s("span",{staticStyle:{"font-weight":"bold","margin-right":"2px","margin-left":"15px"}},[t._v("Mes:")]),s("span",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.mes))])]),s("table",{staticStyle:{"margin-left":"16px"}},[t._m(0),t._l(t.lista,(function(e){return s("tr",{key:e.nemo},[s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{"font-size":"4px","word-spacing":"2px"}},[t._v(t._s(e.prod))]),s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{"font-size":"4px",float:"right !important"}},[t._v(t._s(t._f("currency")(e.pre)))]),s("td",{staticClass:"text-center q-pt-none q-pb-none",staticStyle:{"font-size":"4px"}},[t._v(t._s(e.cant))]),s("td",{staticClass:"q-pt-none q-pb-none",staticStyle:{"font-size":"4px",float:"right !important"}},[t._v(t._s(t._f("currency")(parseFloat(e.pre)*parseFloat(e.cant))))])])})),s("tr",{staticStyle:{"pading-right":"0px !important"}},[s("td",{staticClass:"q-pt-none",staticStyle:{width:"160px !important"},attrs:{colspan:"4"}},[s("span",{staticStyle:{display:"inline !important",float:"right !important","font-weight":"bold","font-size":"4px !important","word-spacing":"1px"}},[t._v("\n                    Total:\n                    "),s("span",{staticStyle:{"margin-right":"0px","font-weight":"normal !important","margin-left":"2px",display:"inline !important"}},[t._v(t._s(t._f("currency")(t.total)))])])])])],2)])])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-center",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"80px"}},[t._v("Nombre")]),a("td",{staticClass:"text-center",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"25px"}},[t._v("Precio")]),a("td",{staticClass:"text-center",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"10px"}},[t._v("Cant")]),a("td",{staticClass:"text-right",staticStyle:{"font-weight":"bold","font-size":"4px !important",width:"25px"}},[t._v("Sub Total")])])}],A={data(){return{lista:[],total:0,semana:"No Aplica",mes:""}},methods:{crearPDF(t,e){var a=new P["a"];a.html(document.getElementById("pdfResumenContainer"),{callback:function(a){a.save(`orden-${t}-${e}.pdf`)},x:10,y:10})}}},$=A,I=Object(f["a"])($,F,M,!1,null,null,null),V=I.exports,L=a("6f13"),B={components:{GeneradorResumen:V,ModalEditarStock:L["a"]},data(){return{semana:"No Aplica",mes:"No Aplica",mostrar:!1,lista:[],total:0,columnas:[{name:"prod_",alingn:"left",field:"producto",label:"Producto",headerClasses:"bg-blue-9 text-white"},{name:"cant_",alingn:"center",field:"cant",label:"Cantidad",headerClasses:"bg-blue-9 text-white colStatus"},{name:"stk",alingn:"center",field:"stk",label:"Stock",headerClasses:"bg-blue-9 text-white colStatus"},{name:"pre_",alingn:"center",field:"precio",label:"Total",headerClasses:"bg-blue-9 text-white colStatus"},{name:"nemo_",alingn:"nemo",field:"nemo",label:"Nemo",headerClasses:"bg-blue-9 text-white colStatus"}],visibleColumns:["prod_","cant_","stk"],pagination:{sortBy:"desc",descending:!0,page:1,rowsPerPage:0}}},methods:r()(r()({},Object(d["b"])(["setListaResumen"])),{},{editarStock(t){this.$refs.modalEditarStock.desactivaGuardar=!0,this.$refs.modalEditarStock.obj=t,this.$refs.modalEditarStock.totalStock=t.stk,this.$refs.modalEditarStock.mostrar=!0},generarPDFresumen(){this.$refs.generador_Resumen.total=this.total,this.$refs.generador_Resumen.semana=this.semana,this.$refs.generador_Resumen.mes=this.mes,this.$refs.generador_Resumen.crearPDF(this.semana,this.mes)},borrarDeResumen(t){this.setListaResumen(this.listaResumen.filter((e=>e.nemo!==t)))}}),computed:r()({},Object(d["c"])(["listaResumen"]))},Q=B,H=(a("bc97"),a("58a81")),G=a("eaac"),U=a("05c0"),J=a("bd08"),K=a("db86"),Y=Object(f["a"])(Q,j,N,!1,null,null,null),W=Y.exports;_()(Y,"components",{QDialog:b["a"],QCard:x["a"],QBadge:H["a"],QTable:G["a"],QTooltip:U["a"],QTr:J["a"],QTd:K["a"],QBtn:S["a"]}),_()(Y,"directives",{ClosePopup:C["a"]});const Z={"Content-Type":"application/json",headers:{"x-access-token":localStorage.getItem("token")}};window.addEventListener("resize",(()=>{try{document.getElementById("tablaVentas").style.height=window.innerHeight-88+"px"}catch(t){}}));var X=!1;document.addEventListener("keydown",(function(t){17===t.keyCode&&(X=!0)})),document.addEventListener("keyup",(function(t){17===t.keyCode&&(X=!1)}));var tt={name:"PageIndex",components:{ModalEliminar:k,PDFcontainer:T,ModalResumenVentas:W},data(){return{keyPressed:!1,nuevoProd:!0,shadowTxt:" %",labelInputDesc:"PORCENTAJE",descPorc:!0,txtStatusPago:"STATUS PAGO",statPago:null,txtStatusEntrega:"STATUS ENTREGA",statEntrega:null,txtSemana:"SEM",txtMes:"MES",listaFiltrada:[],txtFilterVendedor:"",txtFilterRepartidor:"",txtFilterCliente:"",searchByVendedor:!1,searchByCliente:!1,searchByRepartidor:!1,costoEnvio:0,visibleColumns:["status1","status2","vendedor","nombre","semana","mes","diaDespacho","repartidor","productos","descuento","total","accion"],mostrarCircular:!0,filter:"",inputDesactivado:!0,costoEnvio:0,clienteBusqueda:"",btnPDFvisible:!0,verificarUsuario:"",componentKey:0,status1:!1,status2:!0,alert:!1,alertProd:!1,productosVenta:[],pagination:{sortBy:"desc",descending:!0,page:1,rowsPerPage:25},productoObj:{idProducto:"",nemo:"",producto:"",precio:0,kilos:0,cantidad:0,subTotal:0},form:{apEnvio:!0,productos:[],nombre:"",direccion:"",mes:"",semana:"",diaDespacho:"",repartidor:"",total:0,id:"",descuento:0,porcdesc:!0},total:0,nombreColumnas:[{name:"status1",align:"center",field:"status1",label:"Status Pago",headerClasses:"bg-blue-9 text-white colStatus"},{name:"status2",align:"center",field:"status2",label:"Status Entrega",headerClasses:"bg-blue-9 text-white colStatus"},{name:"vendedor",align:"center",field:"vendedor",label:"Vendedor",headerClasses:"bg-blue-9 text-white colStatus",field:t=>t.usu,sortable:!0},{name:"nombre",align:"center",field:"nombre",label:"Cliente",headerClasses:"bg-blue-9 text-white",field:t=>t.nom,sortable:!0},{name:"direccion",align:"center",field:"direccion",label:"Dirección",headerClasses:"bg-blue-9 text-white"},{name:"semana",align:"center",field:"semana",label:"SEM",headerClasses:"bg-blue-9 text-white"},{name:"mes",align:"center",field:"mes",label:"MES",headerClasses:"bg-blue-9 text-white"},{name:"diaDespacho",align:"center",field:"diaDespacho",label:"DESPACHO",headerClasses:"bg-blue-9 text-white"},{name:"repartidor",align:"center",field:"repartidor",label:"REPARTIDOR",headerClasses:"bg-blue-9 text-white"},{name:"productos",align:"center",field:"productos",label:"Productos",headerClasses:"bg-blue-9 text-white"},{name:"descuento",align:"center",field:"descuento",label:"Descuento",headerClasses:"bg-blue-9 text-white"},{name:"total",align:"center",field:"total",label:"Total",headerClasses:"bg-blue-9 text-white"},{name:"accion",align:"center",field:"accion",align:"center",label:"Acción",headerClasses:"bg-blue-9 text-white"}],arrayDias:[{label:"LUNES",value:1},{label:"MARTES",value:2},{label:"MIÉRCOLES",value:3},{label:"JUEVES",value:4},{label:"VIERNES",value:5},{label:"SÁBADO",value:6},{label:"DOMINGO",value:7}],arrayMeses:[{label:"ENERO",value:1},{label:"FEBRERO",value:2},{label:"MARZO",value:3},{label:"ABRIL",value:4},{label:"MAYO",value:5},{label:"JUNIO",value:6},{label:"JULIO",value:7},{label:"AGOSTO",value:8},{label:"SEPTIEMBRE",value:9},{label:"OCTUBRE",value:10},{label:"NOVIEMBRE",value:11},{label:"DICIEMBRE",value:12}],arraySemanas:[{label:"SEM 1",value:1},{label:"SEM 2",value:2},{label:"SEM 3",value:3},{label:"SEM 4",value:4},{label:"SEM 5",value:5}]}},methods:r()(r()({},Object(d["b"])(["setUsuario","setListaMercados","setNombrePagina","setPermisos","setListaClientes","setListaTrades","setRepartidores","setlistaMercadosByFiltro","setListaResumen"])),{},{verCtrlStatus1(t){X&&this.cambioStatus1(t)},verCtrlStatus2(t){X&&this.cambioStatus2(t)},editarProdDetalle(t){this.nuevoProd=!1;let e=this.listadoTrades.filter((e=>e.nemo===t.nemo));this.productoObj.producto=e[0].nom,this.productoObj.nemo=e[0].nemo,this.productoObj.precio=e[0].prec,this.productoObj.kilos=e[0].cant,this.productoObj.cantidad=t.cant,this.productoObj.subTotal=(parseFloat(t.pre)*parseFloat(t.cant)).toFixed(0),this.alertProd=!0},generarResumen(){if(this.listaResumen.length>0)return void(this.$refs.modalResumenVentas.mostrar=!0);var t=JSON.parse(JSON.stringify(this.listaMercados)),e=0;let a=t.reduce(((t,e)=>[...t,e.prods].flat()),[]);var s=[];a.forEach((t=>{e+=t.cant*t.pre;var a=s.findIndex((e=>e.nemo===t.nemo));-1===a?s.push(t):s[a].cant=parseFloat((parseFloat(s[a].cant)+parseFloat(t.cant)).toFixed(2))})),e=1e3*(e/1e3).toFixed(2),s.forEach(((t,e)=>{let a=this.listadoTrades.find((e=>e.nemo===t.nemo));s[e].stk=a.stk})),this.setListaResumen(s),this.$refs.modalResumenVentas.total=e,"SEM"==this.txtSemana?this.$refs.modalResumenVentas.semana="TODAS":this.$refs.modalResumenVentas.semana=this.txtSemana,"MES"==this.txtMes?this.$refs.modalResumenVentas.mes="TODOS":this.$refs.modalResumenVentas.mes=this.txtMes,this.$refs.modalResumenVentas.mostrar=!0},verTxtDescuento(){(""===this.form.descuento||null===this.form.descuento)&&(this.form.descuento=0)},focusTxtDescuento(){0===this.form.descuento&&(this.form.descuento="")},filtrado(){let t=this.listaMercados_;null!=this.statPago&&(t=t.filter((t=>t.stat[0]==this.statPago))),null!=this.statEntrega&&(t=t.filter((t=>t.stat[1]==this.statEntrega))),"SEM"!=this.txtSemana&&(t=t.filter((t=>t.sem===this.txtSemana))),"MES"!=this.txtMes&&(t=t.filter((t=>t.mes===this.txtMes))),""!=this.txtFilterVendedor&&(t=t.filter((t=>t.usu.toLowerCase().match(`${this.txtFilterVendedor.toLowerCase()}`)))),""!=this.txtFilterCliente&&(t=t.filter((t=>t.nom.toLowerCase().match(`${this.txtFilterCliente.toLowerCase()}`)))),""!=this.txtFilterRepartidor&&(t=t.filter((t=>t.rep.toLowerCase().match(`${this.txtFilterRepartidor.toLowerCase()}`)))),this.setlistaMercadosByFiltro(t),this.setListaResumen([])},filtrarPorStatusEntrega(t){this.statEntrega=t,null==this.statEntrega?this.txtStatusEntrega="STATUS ENTREGA":this.txtStatusEntrega=1==t?"ENTREGADO":"POR ENTREGAR",this.filtrado()},filtrarPorStatusPago(t){this.statPago=t,null==this.statPago?this.txtStatusPago="STATUS PAGO":this.txtStatusPago=1==t?"PAGADO":"POR PAGAR",this.filtrado()},filtrarPorSemana(t){this.txtSemana="0"===t?"SEM":t,this.filtrado()},filtrarPorMes(t){this.txtMes="0"===t?"MES":t,this.filtrado()},generarPDF(t){this.$refs.PDF_Cont.costoEnvio=this.costoEnvio,this.$refs.PDF_Cont.obj=t,this.$refs.PDF_Cont.crearPDF(t.id)},cambioStatus1(t,e){let a,s=0;this.listaMercados.forEach(function(e,o){e._id===t&&(a=this.listaMercados[o].stat[0],a=!0!==a,this.listaMercados[o].stat[0]=a,s=o)}.bind(this)),l.a.post(`${this.url}cambioStatus`,this.listaMercados[s],Z).then(function(t){"error"!==t.data.icono&&this.$refs.tablaPrincipal.$forceUpdate(),this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black")}.bind(this))},cambioStatus2(t,e){let a,s=0;this.listaMercados.forEach(function(e,o){e._id===t&&(a=this.listaMercados[o].stat[1],a=!0!==a,this.listaMercados[o].stat[1]=a,s=o)}.bind(this)),l.a.post(`${this.url}cambioStatus`,this.listaMercados[s],Z).then(function(t){"error"!==t.data.icono&&this.$refs.tablaPrincipal.$forceUpdate(),this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black")}.bind(this))},async traerRepartidores(){try{let t=await l.a.get(`${this.url}traerRepartidores`,Z);!t.data.icono&&this.setRepartidores(t.data)}catch(t){this.showNotif("top","El servidor no responde!","error","red-4","black")}},eliminarProdCarro(t){this.form.productos.splice(t,1),0===this.form.productos.length&&(this.form.descuento=0),this.calculoTotal(this.form.productos)},agregarProducto(){let t=this.form.productos.findIndex((t=>t.nemo===this.productoObj.nemo));-1===t||!0!==this.nuevoProd?(-1!==t?this.form.productos[t]={nemo:this.productoObj.nemo,prod:this.productoObj.producto,cant:this.productoObj.cantidad,pre:this.productoObj.precio}:this.form.productos=[...this.form.productos,{nemo:this.productoObj.nemo,prod:this.productoObj.producto,cant:this.productoObj.cantidad,pre:this.productoObj.precio}],this.calculoTotal(this.form.productos),this.productoObj.nemo="",this.productoObj.producto="",this.productoObj.idProducto="",this.productoObj.precio=0,this.productoObj.kilos=0,this.productoObj.cantidad=0,this.productoObj.subTotal=0):this.showNotif("top",`Producto <b>${this.productoObj.nemo}</b> ya fué agregado!`,"error","yellow-14","black")},modalEliminar(t){this.$refs.modalEliminar.mostrar=!0,this.$refs.modalEliminar.idVenta=t._id},modal(t){if(this.alert=!this.alert,t){this.inputDesactivado=!0,this.btnPDFvisible=!0;let e=JSON.parse(JSON.stringify(t));this.arraySemanas.forEach(function(t){t.label!==e.sem||(this.form.semana=t)}.bind(this)),this.arrayMeses.forEach(function(t){t.label!==e.mes||(this.form.mes=t)}.bind(this)),this.form.nombre=e.nom,this.form.direccion=e.dir,this.form.diaDespacho=e.ddesp,this.form.productos=e.prods,this.form.repartidor=e.rep,this.form.total=e.tot,this.total=e.tot,this.form.id=e._id,this.form.apEnvio=e.apenv,this.form.descuento=e.desc,!0===this.form.apEnvio?this.costoEnvio=2500:this.costoEnvio=0,this.total+=this.costoEnvio-this.form.descuento,this.form.porcdesc=e.porcdesc}else{this.inputDesactivado=!1,this.btnPDFvisible=!1;var e=(new Date).getMonth()+1,a=(new Date).getDate();a<=7?this.form.semana={label:"SEM 1",value:1}:a>7&&a<=14?this.form.semana={label:"SEM 2",value:2}:a>14&&a<=21?this.form.semana={label:"SEM 3",value:3}:a>21&&a<=28?this.form.semana={label:"SEM 4",value:4}:a>28&&(this.form.semana={label:"SEM 5",value:5}),this.arrayMeses.forEach((t=>{t.value!==e||(this.form.mes=t)})),this.form.descuento=0,this.form.nombre="",this.form.direccion="",this.form.diaDespacho="",this.form.productos=[],this.form.repartidor="",this.form.total=0,this.form.id=""}this.traerRepartidores()},guardar(){(""===this.form.descuento||null===this.form.descuento)&&(this.form.descuento=0),""!==this.form.nombre?""!==this.form.repartidor&&""!==this.form.repartidor?l.a.post(`${this.url}ventas`,this.form,Z).then(function(t){this.alert=!this.alert,"error"!==t.data.icono&&(this.resetForm(),this.traerListaVentas()),this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black")}.bind(this)).catch(function(t){this.showNotif("top","El servidor no responde, no se pudo guardar!","error","red-4","black")}.bind(this)):this.showNotif("top","Debe asignar un repartidor!","error","yellow-14","black"):this.showNotif("top","Debe ingresar un Cliente!","error","yellow-14","black")},async traerProductos(){try{const t=await l.a.get(`${this.url}listaProductos`,Z);!t.data.icono&&this.setListaTrades(t.data)}catch(t){this.showNotif("top","El servidor no responde!","error","red-4","black")}},async traerListaVentas(){try{let t=await l.a.get(`${this.url}listaVentas`,Z);t.data.icono?(this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black"),this.mostrarCircular=!1):this.setListaMercados(t.data)}catch(t){this.showNotif("top","El servidor no responde!","error","red-4","black")}},async traerClientes(){try{const t=await l.a.get(`${this.url}traerClientes`,Z);!t.data.icono&&this.setListaClientes(t.data)}catch(t){this.showNotif("top","El servidor no responde!","error","red-4","black")}},showNotif(t,e,a,s,o){this.$q.notify({color:s,textColor:o,icon:a,message:e,position:t,multiLine:!0,group:!0,timeout:2e3,html:!0,classes:"non-selectable"})},resetForm(){this.form.productos=[],this.form.nombre="",this.form.direccion="",this.form.diaDespacho="",this.form.repartidor="",this.form.id="",this.form.descuento=0},calculoTotal(t){this.costoEnvio=0,this.total=t.reduce(((t,e)=>t+e.cant*e.pre),0),this.form.porcdesc?this.form.descuento>50&&(this.showNotif("top","El descuento no puede ser mayor a 50%","error","red-4","black"),this.form.descuento=0,this.$refs.porcDescuento.blur()):this.form.descuento>this.total&&(this.showNotif("top","El descuento excede el total a pagar","error","red-4","black"),this.form.descuento=0,this.$refs.txtDescuento.blur()),this.form.total=this.total,this.total<3e4?(this.form.apEnvio=!0,this.costoEnvio=2500):this.form.apEnvio=!1,this.form.porcdesc?this.total-=this.total*(this.form.descuento/100):this.total-=this.form.descuento,this.total=1e3*(this.total/1e3).toFixed(2),this.total+=this.costoEnvio,this.setListaResumen([])}}),watch:{"form.porcdesc":function(t,e){!1===this.inputDesactivado&&(this.form.descuento=0)},"form.nombre":function(t,e){null===t&&(t="",this.form.direccion=""),this.listaClientes.forEach(function(e){e.nom===t&&(this.form.direccion=e.dir)}.bind(this))},"productoObj.producto":function(t,e){if(null===t)return this.productoObj.nemo="",this.productoObj.producto="",this.productoObj.idProducto="",this.productoObj.precio=0,this.productoObj.kilos=0,this.productoObj.cantidad=0,void(this.productoObj.subTotal=0);var a=this.listadoTrades.filter((e=>e.nom===t));a.length>0&&(this.productoObj.idProducto=a[0]._id,this.productoObj.nemo=a[0].nemo,this.productoObj.producto=a[0].nom,this.productoObj.kilos=a[0].cant,0===this.productoObj.cantidad&&(this.productoObj.cantidad=1),this.productoObj.precio=a[0].prec,this.productoObj.subTotal=parseInt(a[0].precio*a[0].cantidad))},"productoObj.cantidad":function(t,e){if(t.length>0&&""!==t){let a=t.charCodeAt(t.length-1);(a<48||a>57)&&46!==a&&this.$nextTick((()=>this.productoObj.cantidad=e)),1===t.length&&46===a&&this.$nextTick((()=>this.productoObj.cantidad=e))}if(-1!==this.productoObj.cantidad.toString().indexOf(".")){let t=this.productoObj.cantidad.substr(this.productoObj.cantidad.indexOf(".")+1,this.productoObj.cantidad.length-1);t.length>2&&this.$nextTick((()=>this.productoObj.cantidad=e))}this.productoObj.subTotal=parseInt(this.productoObj.precio*t*this.productoObj.kilos)},"form.descuento":function(t){this.costoEnvio=0,this.total=this.form.productos.reduce(((t,e)=>t+e.cant*e.pre),0),this.form.porcdesc?t>50&&(this.showNotif("top","El descuento no puede ser mayor a 50%","error","red-4","black"),this.form.descuento=0,this.$refs.porcDescuento.blur()):t>this.total&&(this.showNotif("top","El descuento excede el total a pagar","error","red-4","black"),this.form.descuento=0,this.$refs.txtDescuento.blur()),this.form.total=this.total,this.form.porcdesc?this.total-=this.total*(this.form.descuento/100):this.total-=this.form.descuento,this.total<3e4&&this.form.apEnvio&&(this.costoEnvio=2500),this.total=1e3*(this.total/1e3).toFixed(2),this.total+=this.costoEnvio},txtFilterVendedor:function(t,e){this.filtrado()},txtFilterCliente:function(t,e){this.filtrado()},txtFilterRepartidor:function(t,e){this.filtrado()},"form.apEnvio":function(t,e){this.costoEnvio=0,this.total=this.form.productos.reduce(((t,e)=>t+e.cant*e.pre),0),this.form.total=this.total,this.form.porcdesc?this.total-=this.total*(this.form.descuento/100):this.total-=this.form.descuento,this.total=1e3*(this.total/1e3).toFixed(2),!0===t&&(this.costoEnvio=2500,this.total+=this.costoEnvio)}},mounted(){this.verificarUsuario=localStorage.getItem("usuario"),0===this.listaMercados.length&&this.traerListaVentas(),setTimeout((()=>{try{document.getElementById("tablaVentas").style.height=window.innerHeight-88+"px"}catch(t){}}),2500),this.traerProductos(),this.traerClientes();const t=localStorage.getItem("usuario");t&&this.setUsuario(t),this.setNombrePagina("Ventas")},computed:r()({},Object(d["c"])(["usuario","url","listaMercados","listaMercados_","nombrePagina","permisos","listadoTrades","listaClientes","listaRepartidores","sumaCant","listaResumen"]))},et=tt,at=(a("1c44"),a("f20b")),st=a("1c1c"),ot=a("66e5"),it=a("4074"),rt=a("0170"),nt=a("74f7"),lt=a("58ea"),ct=a("27f9"),pt=a("ddd8"),dt=a("9564"),mt=a("8572"),ut=Object(f["a"])(et,s,o,!1,null,null,null);e["default"]=ut.exports;_()(ut,"components",{QBtn:S["a"],QTable:G["a"],QBtnDropdown:at["a"],QList:st["a"],QItem:ot["a"],QItemSection:it["a"],QItemLabel:rt["a"],QTd:K["a"],QTooltip:U["a"],QTr:J["a"],QInnerLoading:nt["a"],QCircularProgress:lt["a"],QDialog:b["a"],QCard:x["a"],QInput:ct["a"],QSelect:pt["a"],QToggle:dt["a"],QIcon:y["a"],QBadge:H["a"],QCardActions:v["a"],QField:mt["a"]}),_()(ut,"directives",{ClosePopup:C["a"]})},bc97:function(t,e,a){"use strict";a("c720")},c720:function(t,e,a){},dff6:function(t,e,a){}}]);