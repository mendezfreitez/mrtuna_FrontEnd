(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"0169":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-blue-grey-1"},[t.listaUsuarios.length>0?a("div",{staticClass:"row q-mt-xs"},[a("div",{staticClass:"col-12 col-sm-1 col-md-2 col-lg-3"}),a("div",{staticClass:"col-12 col-sm-10 col-md-8 col-lg-6",staticStyle:{"padding-left":"10px!important","padding-right":"10px!important"}},[a("q-table",{staticClass:" q-mb-md text-black shadow-17",staticStyle:{background:"transparent !important"},attrs:{data:t.listaUsuarios,columns:t.nombreColumnas,"row-key":"name",separator:"cell",dense:"",pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{staticClass:"bg-blue-grey-1",staticStyle:{"font-size":"15px!important"},attrs:{props:e}},[a("q-td",{key:"permiso",staticClass:"text-center",staticStyle:{"font-size":"13px!important","padding-left":"0px!important","padding-right":"0px!important",width:"110px!important"},attrs:{props:e}},[1===e.row.per?a("q-icon",{staticStyle:{height:"100%!important",width:"100%!important","border-radius":"0px!important"},attrs:{size:"lg",color:"blue-9",name:"toggle_on"},on:{click:function(a){return t.setPermiso(e.row._id)}}}):a("q-icon",{staticStyle:{height:"100%!important",width:"100%!important","border-radius":"0px!important"},attrs:{size:"lg",color:"grey-6",name:"toggle_off"},on:{click:function(a){return t.setPermiso(e.row._id)}}})],1),a("q-td",{key:"usuario",staticClass:"text-left q-p-xs",staticStyle:{"font-size":"13px!important"},attrs:{props:e}},[t._v(" "+t._s(e.row.usuario)+" ")]),a("q-td",{key:"direccion",staticClass:"text-left q-p-xs",staticStyle:{"font-size":"13px!important"},attrs:{props:e}},[t._v(" "+t._s(e.row.dir)+" ")]),a("q-td",{key:"accion",staticClass:"text-center q-p-xs",staticStyle:{"font-size":"13px!important"}},[a("q-btn",{attrs:{round:"",flat:"",padding:"none",icon:"delete",size:"14px",color:"blue-grey-10 q-mr-sm"},on:{click:function(a){return t.modalEliminar(e.row)}}})],1)],1)]}},{key:"pagination",fn:function(e){return[e.pagesNumber>2?a("q-btn",{staticClass:"text-white",attrs:{icon:"first_page",square:"",dense:"",flat:"",disable:e.isFirstPage},on:{click:e.firstPage}}):t._e(),a("q-btn",{staticClass:"text-white",attrs:{icon:"chevron_left",square:"",dense:"",flat:"",disable:e.isFirstPage},on:{click:e.prevPage}}),a("q-btn",{staticClass:"text-white",attrs:{icon:"chevron_right",square:"",dense:"",flat:"",disable:e.isLastPage},on:{click:e.nextPage}}),e.pagesNumber>2?a("q-btn",{staticClass:"text-white",attrs:{icon:"last_page",square:"",dense:"",flat:"",disable:e.isLastPage},on:{click:e.lastPage}}):t._e()]}}],null,!1,2202870102)})],1),a("div",{staticClass:"col-12 col-sm-1 col-md-2 col-lg-3"})]):a("q-inner-loading",{attrs:{showing:!0}},[a("q-circular-progress",{staticClass:"q-ma-md",attrs:{indeterminate:"",size:"75px",thickness:1,color:"teal-6","center-color":"blue"}})],1)],1)},i=[],o=a("ded3"),n=a.n(o),r=a("2f62"),l=a("bc3a"),c=a.n(l);const d={"Content-Type":"application/json",headers:{"x-access-token":localStorage.getItem("token")}};var p={data(){return{valor:null,listaUsuarios:[],pagination:{sortBy:"desc",descending:!0,page:1,rowsPerPage:20},nombreColumnas:[{name:"permiso",align:"center",field:"permiso",label:"Permiso",headerClasses:"bg-blue-9 text-white"},{name:"usuario",align:"center",field:"usuario",label:"Usuario",headerClasses:"bg-blue-9 text-white",field:t=>t.usuario,sortable:!0},{name:"accion",align:"center",field:"accion",label:"Acci√≥n",headerClasses:"bg-blue-9 text-white"}]}},methods:n()(n()({},Object(r["b"])(["setUsuario"])),{},{setPermiso(t){var e=0;this.listaUsuarios.forEach(function(a,s){a._id===t&&(e=1===this.listaUsuarios[s].per?0:1,c.a.post(`${this.url}setPermiso`,{id:t,per:e},d).then(function(t){return"check_circle_outline"==t.data.icono&&(this.listaUsuarios[s].per=e),t}.bind(this)).then(function(t){this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black")}.bind(this)))}.bind(this))},showNotif(t,e,a,s,i){this.$q.notify({color:s,textColor:i,icon:a,message:e,position:t,multiLine:!0,group:!0,timeout:2e3,html:!0,classes:"non-selectable"})},usuarios_no_admin(){c.a.get(`${this.url}permisos`,d).then(function(t){t.data.icono?this.showNotif("top",t.data.mensaje,t.data.icono,t.data.color,"black"):this.listaUsuarios=t.data}.bind(this)).catch(function(t){this.showNotif("top","No hay respuesta del servidor!","error","red-5","black")}.bind(this))},modalEliminar(t){}}),mounted(){this.usuarios_no_admin(),this.setUsuario(localStorage.getItem("usuario"))},computed:n()({},Object(r["c"])(["url"]))},u=p,m=a("2877"),g=a("eaac"),h=a("bd08"),b=a("db86"),f=a("9c40"),x=a("0016"),w=a("74f7"),q=a("58ea"),k=a("eebe"),y=a.n(k),C=Object(m["a"])(u,s,i,!1,null,null,null);e["default"]=C.exports;y()(C,"components",{QTable:g["a"],QTr:h["a"],QTd:b["a"],QBtn:f["a"],QIcon:x["a"],QInnerLoading:w["a"],QCircularProgress:q["a"]})}}]);